<?xml version='1.0' encoding='utf-8'?>
<!-- Name: ltrim(s) -->
<!-- Value: string -->
<!-- perform left trim on text -->

<!--
    Params/variables read:
    s [param]

    Variables set:
    s-no-ws, s-first-non-ws, s-no-leading-ws

    Functions/templates called:
    translate(), concat(), substring(), substring-after() [Xpath 1.0]
-->

<xsl:template name="ltrim"
              xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
              xmlns:fo="http://www.w3.org/1999/XSL/Format">

    <!-- params -->
    <xsl:param name="s"/>

    <!-- variables -->
    <xsl:variable name="s-no-ws" select="translate($s,' &#x9;&#xA;&#xD;','$%*!')"/>
    <xsl:variable name="s-first-non-ws" select="substring($s-no-ws,1,1)"/>
    <xsl:variable name="s-no-leading-ws" select="concat($s-first-non-ws,substring-after($s,$s-first-non-ws))"/>

    <!-- content -->
    <xsl:value-of select="concat('[',$s-first-non-ws,'|',$s-no-ws,']')"/>

</xsl:template>
